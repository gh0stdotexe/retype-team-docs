Github Repo:

```shell
https://github.com/gh0stdotexe/half-life
```

**HalfLife is a Cosmos-based blockchain validator monitoring and alerting utility.**

Monitors and alerts for scenarios such as:

- Slashing period uptime
- Recently missed blocks (is the validator signing currently)
- Jailed status
- Tombstoned status
- Individual sentry nodes unreachable/out of sync
- Chain halted

Discord messages are created in the configured webhook channel for:

- Current validator status
- Detected alerts

## Quick start

Clone the Github repository and install:

```shell
git clone https://github.com/gh0stdotexe/half-life
cd half-life
go install
```

Configure node settings:

```shell
nano config.yaml
```

Copy `config.yaml.example` to `config.yaml` and populate with your discord and validator information. You can optionally provide the `sentries` array to also monitor the sentries via GRPC. `rpc-retries` can optionally be provided to override the default of 5 RPC retries before alerting, useful for congested RPC servers.

See [here](https://support.discord.com/hc/en-us/articles/228383668-Intro-to-Webhooks) for how to create a webhook for a discord channel.

Begin monitoring with:

```shell
halflife monitor
```

By default, `half-life monitor` will look for `config.yaml` in the current working directory. To specify a different config file path, use the `--file`/`-f` flag:

```shell
half-life monitor -f ~/config.yaml
```

When a validator is first added to `config.yaml` and halflife is started, a status message will be created in the discord channel and the ID of that message will be added to `config.yaml`. Pin this message so that the channel's pinned messages can act as a dashboard to see the real-time status of the validators.

Create & enable the `halflife` service:

```shell
# create service

sudo nano /etc/systemd/system/halflife.service

# service unit file

[Unit]
Description=Halflife Monitoring
After=network.target

[Service]
Type=simple
User=whispernode
ExecStart=/home/whispernode/go/bin/halflife monitor -f /home/whispernode/half-life/config.yaml
Restart=always
RestartSec=3
LimitNOFILE=65535

[Install]
WantedBy=multi-user.target

# enable + restart service

sudo systemctl daemon-reload && systemctl enable halflife
sudo systemctl restart halflife && journalctl -fu halflife
```

Alerts will be posted when any error conditions are detected, and follow-up messages will be posted when those errors are cleared.

For high and critical errors, the configured discord user IDs will be tagged.

<br>
